<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Admin - Krishna's Portfolio</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <canvas id="bgCanvas"></canvas>

    <!-- Login Screen -->
    <div class="login-container" id="loginContainer">
        <div class="login-box">
            <h1>Blog Admin</h1>
            <p>Sign in to manage blog posts</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input
                        type="text"
                        id="username"
                        autocomplete="username"
                        required
                        aria-label="Username"
                    >
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input
                        type="password"
                        id="password"
                        autocomplete="current-password"
                        required
                        aria-label="Password"
                    >
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Sign In</button>
                <div id="loginError" class="error-message"></div>
            </form>
        </div>
    </div>

    <!-- Admin Interface -->
    <div id="adminInterface" class="admin-interface display-none">
        <div class="container">
            <!-- Header -->
            <div class="admin-header">
                <h1>Blog Admin Dashboard</h1>
                <button class="btn btn-danger" onclick="logout()">Logout</button>
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" data-tab="editor" onclick="showTab('editor')">New Post</button>
                <button class="tab" data-tab="manage" onclick="showTab('manage')">Manage Posts</button>
            </div>

            <!-- Editor Tab -->
            <div id="editorTab" class="tab-content active">
                <div class="editor-panel">
                    <h2>Create Blog Post</h2>
                    <form id="postForm">
                        <div class="form-group">
                            <label for="postTitle">Title *</label>
                            <input
                                type="text"
                                id="postTitle"
                                required
                                placeholder="Enter post title"
                                maxlength="200"
                                aria-label="Post title"
                            >
                        </div>

                        <div class="form-group">
                            <label for="postDate">Date *</label>
                            <input
                                type="date"
                                id="postDate"
                                required
                                aria-label="Post date"
                            >
                        </div>

                        <div class="form-group">
                            <label for="tagInput">Tags</label>
                            <div class="tag-container">
                                <div id="tagList"></div>
                                <input
                                    type="text"
                                    id="tagInput"
                                    class="tag-input"
                                    placeholder="Add tags (press Enter)"
                                    aria-label="Add tags"
                                >
                            </div>
                            <small style="color: var(--text-muted);">Press Enter to add tags</small>
                        </div>

                        <div class="form-group">
                            <label for="postExcerpt">Excerpt *</label>
                            <textarea
                                id="postExcerpt"
                                required
                                placeholder="Brief description of the post (2-3 sentences)"
                                rows="3"
                                maxlength="500"
                                aria-label="Post excerpt"
                            ></textarea>
                        </div>

                        <div class="form-group">
                            <label for="postContent">Content *</label>
                            <textarea
                                id="postContent"
                                required
                                placeholder="Write your blog post content here..."
                                aria-label="Post content"
                            ></textarea>
                        </div>

                        <div class="btn-actions">
                            <button type="button" class="btn btn-primary" onclick="savePost()">Save Post</button>
                            <button type="button" class="btn btn-secondary" onclick="previewPost()">Preview</button>
                            <button type="button" class="btn btn-secondary" onclick="clearForm()">Clear</button>
                        </div>
                    </form>

                    <!-- Preview Panel -->
                    <div id="previewPanel" class="preview-panel" style="display: none;">
                        <h2>Preview</h2>
                        <div id="previewContent"></div>
                    </div>
                </div>
            </div>

            <!-- Manage Tab -->
            <div id="manageTab" class="tab-content">
                <div class="editor-panel">
                    <h2>Manage Posts</h2>
                    <div id="blogListContainer" class="blog-list">
                        <!-- Blog posts will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="api-client.js"></script>
    <!-- Use admin-production.js for production, admin.js for local-only -->
    <script src="admin-production.js"></script>
</body>
</html>
